<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ä¸­æ­£å¤§å­¸ç´«èŠä¸åˆ†ç³»ç³»ç¶² - AI å®¢æœç¯„ä¾‹</title>

<style>
  /* ===== ç´«èŠæš®è— Ã— éœ§ç°å…‰ï¼ˆæ•…äº‹å‹å°ˆæ¥­é…è‰²ï¼‰===== */
  :root{
    --primary: #1C2554;        /* ä¸»è‰²ï¼šæ·±è—ç´« */
    --primary-soft: #4A5FBF;   /* Hover / å¼·èª¿ */
    --bg-main: #F4F5F8;        /* å…¨ç«™èƒŒæ™¯ï¼šéœ§ç°ç™½ */
    --surface: #FFFFFF;        /* å¡ç‰‡/ä¸»å€å¡Šåº• */
    --surface-soft: #E8EBF6;   /* Tag/AI æ·¡åº• */
    --text-main: #1E1F29;      /* ä¸»æ–‡å­— */
    --text-soft: #5E637A;      /* æ¬¡æ–‡å­— */
  }

  * { box-sizing: border-box; margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif; }

  body { background-color: var(--bg-main); color: var(--text-main); }

  header {
    background: var(--primary);
    color: #fff;
    padding: 12px 24px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    position: sticky;
    top: 0;
    z-index: 10;
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
  }

  .logo { font-size: 18px; font-weight: 700; }

  nav a {
    color: #fff;
    text-decoration: none;
    margin-left: 16px;
    font-size: 14px;
    opacity: 0.95;
  }
  nav a:hover { text-decoration: underline; opacity: 1; }

  main { max-width: 1000px; margin: 24px auto 40px; padding: 0 16px; }

  .hero {
    background: var(--surface);
    padding: 24px 24px 20px;
    border-radius: 12px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.08);
    margin-bottom: 24px;
  }

  .hero h1 { font-size: 22px; margin-bottom: 8px; }
  .hero p { font-size: 14px; color: var(--text-soft); line-height: 1.6; }

  .tag-row { margin-top: 12px; }

  .tag {
    display: inline-block;
    padding: 4px 10px;
    border-radius: 999px;
    background: var(--surface-soft);
    color: var(--primary);
    font-size: 12px;
    margin-right: 8px;
  }

  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 16px;
    margin-bottom: 24px;
  }

  .card {
    background: var(--surface);
    border-radius: 10px;
    padding: 16px 18px 18px;
    box-shadow: 0 1px 6px rgba(0,0,0,0.08);
  }

  .card h2 { font-size: 16px; margin-bottom: 8px; }
  .card p { font-size: 13px; color: var(--text-soft); line-height: 1.6; }
  .card ul { margin-top: 6px; margin-left: 16px; }
  .card li { font-size: 13px; margin-bottom: 4px; }

  .btn-row { margin-top: 10px; }

  .btn {
    display: inline-block;
    padding: 6px 14px;
    border-radius: 999px;
    border: 1px solid var(--primary);
    cursor: pointer;
    font-size: 13px;
    background: var(--primary);
    color: #fff;
    text-decoration: none;
    transition: background .15s ease, transform .15s ease;
  }
  .btn:hover { background: var(--primary-soft); transform: translateY(-1px); }

  .btn.secondary {
    background: var(--surface-soft);
    color: var(--primary);
    border: 1px solid var(--primary);
  }
  .btn.secondary:hover { background: #DCE1F3; }

  .btn + .btn { margin-left: 8px; }

  .ai-box {
    margin-top: 8px;
    padding: 10px 12px;
    border-radius: 8px;
    background: var(--surface-soft);
    font-size: 13px;
    color: var(--primary);
  }

  footer {
    text-align: center;
    font-size: 12px;
    color: #70758A;
    padding: 16px 0 20px;
  }

  @media (max-width: 640px) {
    header { flex-direction: column; align-items: flex-start; }
    nav { margin-top: 6px; }
    nav a { margin-left: 0; margin-right: 12px; }
  }
</style>
</head>

<body>
  <header>
    <div class="logo">ä¸­æ­£å¤§å­¸ç´«èŠä¸åˆ†ç³»</div>
    <nav>
      <a href="#intro">ç³»æ‰€ä»‹ç´¹</a>
      <a href="#news">æœ€æ–°å…¬å‘Š</a>
      <a href="#admission">æ‹›ç”Ÿè³‡è¨Š</a>
      <a href="#qa">ä¸åˆ†ç³» Q&amp;A</a>
      <a href="#contact">è¯çµ¡æ–¹å¼</a>
    </nav>
  </header>

  <main>
    <section class="hero" id="intro">
      <h1>ç´«èŠä¸åˆ†ç³»ï½œç³»ç¶²æ™ºæ…§åŠ©ç†</h1>
      <p>
        æ­¤é é¢å¯æä¾›çµ¦ä½¿ç”¨è€…æ›´å…·ä¾¿åˆ©æ€§èˆ‡æ•ˆç‡çš„æœå°‹é é¢ï¼Œè®“ä½¿ç”¨è€…èƒ½å¤ ç”¨æœ€çŸ­çš„æ™‚é–“å¾—åˆ°è‡ªå·±æ‰€éœ€è¦çš„è³‡è¨Šã€‚é é¢å³ä¸‹è§’æœ‰ã€Œ AI å®¢æœã€èƒ½å¤ æä¾›æ›´ä¾¿æ·çš„æœå°‹è¦–çª—ã€‚              </p>
      <div class="tag-row">
        <span class="tag">ç³»æ‰€è³‡è¨Š</span>
        <span class="tag">æ‹›ç”Ÿèªªæ˜</span>
        <span class="tag">AI å®¢æœç¯„ä¾‹</span>
      </div>
    </section>

    <section class="grid">
      <article class="card" id="news">
        <h2>æœ€æ–°å…¬å‘Š</h2>
        <p>æ”¾ç½®è¿‘æœŸé‡è¦è¨Šæ¯ï¼Œä¾‹å¦‚ï¼š</p>
        <ul>
          <li>2025-11-18 æœ¬å­¸ç¨‹æ“¬ç”³è«‹è‡ª116å­¸å¹´åº¦èµ·æ›´åå…¬å‘Š</li>
          <li>2025-09-22 114å­¸å¹´åº¦ç¬¬1å­¸æœŸã€Œå®¢è£½åŒ–å­¸ç¨‹ã€å³æ—¥èµ·é–‹æ”¾ç”³è«‹</li>
          <li>2025-09-15 114-1å¸æ³•å¿ƒç†å­¸åˆ†å­¸ç¨‹éŒ„å–åå–®</li>
        </ul>
        <div class="btn-row">
          <a class="btn" href="https://deptids.ccu.edu.tw/" target="_blank" rel="noopener">æŸ¥çœ‹æ›´å¤šå…¬å‘Š</a>
        </div>
      </article>

      <article class="card" id="admission">
        <h2>æ‹›ç”Ÿè³‡è¨Š</h2>
        <p>æä¾›çµ¦æ–°ç”Ÿèˆ‡å®¶é•·çš„å¿«é€Ÿé€£çµï¼š</p>
        <ul>
          <li>å…¥å­¸ç®¡é“èˆ‡åé¡èªªæ˜</li>
          <li>èª²ç¨‹åœ°åœ–èˆ‡ä¿®èª²å»ºè­°</li>
          <li>å¸¸è¦‹çš„ç”³è«‹èˆ‡å¯©æŸ¥å•é¡Œ</li>
        </ul>
        <div class="btn-row">
          <a class="btn" href="https://deptids.ccu.edu.tw/p/403-1154-393.php?Lang=zh-tw" target="_blank" rel="noopener">
            å‰å¾€æ‹›ç”Ÿé é¢
          </a>
          <a class="btn secondary" href="https://deptids.ccu.edu.tw/p/404-1154-17961.php?Lang=zh-tw" target="_blank" rel="noopener">
            ç›¸é—œä¸‹è¼‰è¡¨å–®
          </a>
        </div>
      </article>

      <article class="card" id="qa">
        <h2>ä¸åˆ†ç³» Q&amp;A</h2>
        <p>å¸¸è¦‹å•é¡Œï¼Œä¾‹å¦‚ï¼š</p>
        <ul>
          <li>ä¸åˆ†ç³»èˆ‡å‚³çµ±ç³»æ‰€çš„å·®ç•°æ˜¯ä»€éº¼ï¼Ÿ</li>
          <li>ä¸åˆ†ç³»ç•¢æ¥­è­‰æ›¸ä¸Šçš„å­¸ä½å¦‚ä½•å‘ˆç¾ï¼Ÿ</li>
          <li>ä¸åˆ†ç³»å¤§äºŒæœƒåˆ†æµå—ï¼Ÿ</li>
             </ul>
        <div class="btn-row">
          <a class="btn" href="https://deptids.ccu.edu.tw/p/403-1154-2212.php?Lang=zh-tw" target="_blank" rel="noopener">
            æŸ¥çœ‹æ›´å¤š Q&amp;A
          </a>
        </div>
      </article>

      <article class="card" id="video">
        <h2>ä¸åˆ†ç³»ä»‹ç´¹å½±ç‰‡</h2>
        <p>é€éå½±ç‰‡æ›´å¿«é€Ÿç†è§£ç´«èŠä¸åˆ†ç³»çš„ç†å¿µã€å­¸ç¿’æ–¹å¼èˆ‡å­¸ç”Ÿç¶“é©—åˆ†äº«ã€‚</p>
        <div class="btn-row">
          <a class="btn" href="https://www.youtube.com/watch?app=desktop&amp;v=8kfjvu0XHig" target="_blank" rel="noopener">
            è§€çœ‹ä»‹ç´¹å½±ç‰‡
          </a>
        </div>
      </article>

      <article class="card" id="contact">
        <h2>è¯çµ¡æ–¹å¼</h2>
        <p>ç³»è¾¦è¯çµ¡è³‡è¨Šï¼š</p>
        <ul>
          <li>é›»è©±ï¼š05-2720411#27101#27102</li>
          <li>Emailï¼šdeptids@ccu.edu.tw</li>
          <li>è¾¦å…¬å®¤ï¼šå…±åŒæ•™å®¤å¤§æ¨“è¥¿å´210å®¤</li>
        </ul>
        <div class="ai-box">
         é‚„æœ‰å…¶ä»–å•é¡Œå—? AI å®¢æœè¦–çª—åœ¨é é¢å³ä¸‹è§’ï¼Œè¼¸å…¥é—œéµå­—ï¼Œä¾‹å¦‚ï¼š<br/>
          ã€Œç³»è¾¦åœ¨å“ªè£¡?ã€
        </div>
      </article>
    </section>
  </main>

  <footer>
    &copy; ä¸­æ­£å¤§å­¸ç´«èŠä¸åˆ†ç³» - æœ¬é é¢ç‚º AI å®¢æœä¹‹ç¬¬ä¸‰çµ„
  </footer>

  <!-- ===== AI å®¢æœ Widget STARTï¼ˆåªæ–°å¢é€™æ®µï¼Œä¸å½±éŸ¿ä¸Šé¢å…§å®¹ï¼‰ ===== -->
  <style>
    .ai-widget-launcher{
      position: fixed;
      right: 18px;
      bottom: 18px;
      width: 54px;
      height: 54px;
      border-radius: 999px;
      background: #3f51b5;
      color: #fff;
      border: none;
      cursor: pointer;
      box-shadow: 0 10px 24px rgba(0,0,0,.2);
      z-index: 9999;
      display: grid;
      place-items: center;
      font-size: 22px;
    }
    .ai-widget{
      position: fixed;
      right: 18px;
      bottom: 84px;
      width: 360px;
      max-width: calc(100vw - 36px);
      height: 520px;
      max-height: calc(100vh - 120px);
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 14px 40px rgba(0,0,0,.22);
      overflow: hidden;
      z-index: 9999;
      display: none;
      border: 1px solid rgba(0,0,0,.06);
    }
    .ai-widget.open{ display: flex; flex-direction: column; }

    .aiw-header{
      padding: 12px 14px;
      background: #f1f3ff;
      border-bottom: 1px solid rgba(0,0,0,.06);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
    }
    .aiw-title{ display: flex; gap: 10px; align-items: center; }
    .aiw-badge{
      width: 32px; height: 32px; border-radius: 10px;
      background: #3f51b5; color:#fff;
      display:grid; place-items:center;
      font-weight: 700;
    }
    .aiw-title h3{ font-size: 14px; margin: 0; line-height: 1.2; }
    .aiw-title small{ display:block; font-size: 12px; color: #556; margin-top: 2px; }

    .aiw-actions{ display:flex; gap: 8px; align-items:center; }
    .aiw-icon-btn{
      width: 32px; height: 32px; border-radius: 10px;
      border: 1px solid rgba(0,0,0,.08);
      background: #fff;
      cursor: pointer;
      display:grid; place-items:center;
      font-size: 14px;
    }

    .aiw-body{
      padding: 12px 12px 0;
      overflow: auto;
      flex: 1;
      background: #fff;
    }
    .aiw-msg{ margin: 10px 0; display: flex; gap: 10px; align-items: flex-end; }
    .aiw-msg.user{ justify-content: flex-end; }
    .aiw-bubble{
      max-width: 85%;
      padding: 10px 12px;
      border-radius: 14px;
      line-height: 1.55;
      font-size: 13px;
      white-space: pre-wrap;
      word-break: break-word;
    }
    .aiw-msg.bot .aiw-bubble{
      background: #f1f3ff;
      color: #27307a;
      border-top-left-radius: 6px;
    }
    .aiw-msg.user .aiw-bubble{
      background: #3f51b5;
      color: #fff;
      border-top-right-radius: 6px;
    }

    .aiw-quick{
      padding: 10px 12px 12px;
      border-top: 1px solid rgba(0,0,0,.06);
      background: #fff;
    }
    .aiw-quick-title{ font-size: 12px; color: #667; margin-bottom: 8px; }
    .aiw-chips{ display: flex; flex-wrap: wrap; gap: 8px; }
    .aiw-chip{
      border: 1px solid rgba(63,81,181,.35);
      color: #3f51b5;
      background: #fff;
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 12px;
      cursor: pointer;
    }

    .aiw-footer{
      padding: 10px 12px;
      border-top: 1px solid rgba(0,0,0,.06);
      background: #fff;
    }
    .aiw-input-row{ display: flex; gap: 8px; }
    .aiw-input{
      flex: 1;
      border: 1px solid rgba(0,0,0,.12);
      border-radius: 12px;
      padding: 10px 10px;
      font-size: 13px;
      outline: none;
    }
    .aiw-send{
      border: none;
      background: #3f51b5;
      color: #fff;
      padding: 10px 12px;
      border-radius: 12px;
      cursor: pointer;
      font-size: 13px;
      min-width: 62px;
    }
    .aiw-hint{ margin-top: 8px; font-size: 11px; color: #778; }
.aiw-bubble a {
  color: inherit;
  text-decoration: underline;
  word-break: break-all;
}

.aiw-msg.user .aiw-bubble a {
  color: #fff;
}

  </style>

  <button class="ai-widget-launcher" id="aiLauncher" aria-label="é–‹å•Ÿ AI å®¢æœ">ğŸ’¬</button>

  <div class="ai-widget" id="aiWidget" role="dialog" aria-label="AI å®¢æœ">
    <div class="aiw-header">
      <div class="aiw-title">
        <div class="aiw-badge">AI</div>
        <div>
          <h3>ç´«èŠä¸åˆ†ç³»ï½œAI å®¢æœ</h3>
          <small>è¼¸å…¥é—œéµå­—ï¼Œæˆ‘å¹«ä½ æ‰¾åˆ°ç­”æ¡ˆ</small>
        </div>
      </div>
      <div class="aiw-actions">
        <button class="aiw-icon-btn" id="aiClear" title="æ¸…é™¤å°è©±">ğŸ§¹</button>
        <button class="aiw-icon-btn" id="aiClose" title="é—œé–‰">âœ•</button>
      </div>
    </div>

    <div class="aiw-body" id="aiBody"></div>

    <div class="aiw-quick">
      <div class="aiw-quick-title">ç†±é–€é—œéµå­—</div>
      <div class="aiw-chips" id="aiChips"></div>
    </div>

    <div class="aiw-footer">
      <div class="aiw-input-row">
        <input class="aiw-input" id="aiInput" type="text" placeholder="è¼¸å…¥ä½ çš„å•é¡Œâ€¦ï¼ˆEnter é€å‡ºï¼‰" />
        <button class="aiw-send" id="aiSend">é€å‡º</button>
      </div>
      <div class="aiw-hint">æç¤ºï¼šè¼¸å…¥é—œéµå­—ï¼ˆä¾‹å¦‚ï¼šæ‹›ç”Ÿã€èª²ç¨‹ã€ç³»è¾¦ã€Q&amp;Aã€ä¸‹è¼‰è¡¨å–®ï¼‰ã€‚</div>
    </div>
  </div>

  <script>
  /* ==========================================================
     ã€å•ç­”è¨­å®šå€ï¼šä½ åªè¦æ”¹é€™è£¡å°±å¥½ã€‘
     - keywordsï¼šä½¿ç”¨è€…è¼¸å…¥åŒ…å«é€™äº›å­—å°±æœƒåŒ¹é…
     - answerï¼šå®¢æœå›è¦†å…§å®¹
     - chipsï¼šé¡¯ç¤ºåœ¨ã€Œç†±é–€é—œéµå­—ã€çš„å¿«é€ŸæŒ‰éˆ•
     ========================================================== */
  const QA_RULES = [
    {
      chips: "ç³»è¾¦ä½ç½®",
      keywords: ["ç³»è¾¦", "ä½ç½®", "åœ¨å“ª", "è¾¦å…¬å®¤", "è¯çµ¡"],
      answer:
        "ç³»è¾¦è¯çµ¡è³‡è¨Šï¼š\n" +
        "- é›»è©±ï¼š05-2720411#27101ã€#27102\n" +
        "- Emailï¼šdeptids@ccu.edu.tw\n" +
        "- è¾¦å…¬å®¤ï¼šå…±åŒæ•™å®¤å¤§æ¨“è¥¿å´ 210 å®¤\n" +
        "\næ›´å¤šè³‡æ–™ï¼š https://deptids.ccu.edu.tw/p/404-1154-21734.php?Lang=zh-tw"
    },
    {
      chips: "æ‹›ç”Ÿè³‡è¨Š",
      keywords: ["æ‹›ç”Ÿ", "å…¥å­¸", "åé¡", "ç”³è«‹", "å¯©æŸ¥", "èªªæ˜æœƒ"],
      answer:
        "æ‹›ç”Ÿè³‡è¨Šå®˜æ–¹é ï¼š\n" +
        "https://deptids.ccu.edu.tw/p/403-1154-393.php?Lang=zh-tw\n" +
        "\nä½ ä¹Ÿå¯ä»¥å…ˆçœ‹æœ¬é ã€Œæ‹›ç”Ÿè³‡è¨Šã€å¡ç‰‡çš„é‡é»é€£çµã€‚"
    },
    {
      chips: "ä¸‹è¼‰è¡¨å–®",
      keywords: ["ä¸‹è¼‰", "è¡¨å–®", "ç”³è«‹è¡¨", "æª”æ¡ˆ", "æ³•è¦"],
      answer:
        "ç›¸é—œä¸‹è¼‰/æ³•è¦å…¥å£å¦‚ä¸‹ï¼š\n" +
        "- å­¸ç”Ÿç›¸é—œæ³•è¦ï¼šhttps://deptids.ccu.edu.tw/p/404-1154-17961.php?Lang=zh-tw\n" +
        "- æ•™å¸«ç›¸é—œæ³•è¦ï¼šhttps://deptids.ccu.edu.tw/p/404-1154-17958.php?Lang=zh-tw\n" +
        "- ç›¸é—œæ³•è¦ï¼šhttps://deptids.ccu.edu.tw/p/404-1154-35021.php?Lang=zh-tw\n" +
        "- è¡¨æ ¼ï¼šhttps://deptids.ccu.edu.tw/p/404-1154-17959.php?Lang=zh-tw\n" +
        "- å€‹è³‡å°ˆå€ï¼šhttps://deptids.ccu.edu.tw/p/404-1154-24808.php?Lang=zh-tw\n" +
        "\nå¦‚æœä½ å‘Šè¨´æˆ‘ä½ è¦çš„è¡¨å–®é¡å‹ï¼ˆç”³è«‹/è¨ˆç•«/æ´»å‹•ï¼‰ï¼Œæˆ‘å¯ä»¥å¼•å°ä½ æœ€å¿«é»åˆ°ã€‚"
    },
    {
      chips: "ä¸åˆ†ç³» Q&A",
      keywords: ["q&a", "qa", "å¸¸è¦‹å•é¡Œ", "å·®ç•°", "ç•¢æ¥­", "å­¸ä½", "åˆ†æµ"],
      answer:
        "ä¸åˆ†ç³» Q&A å®˜æ–¹é ï¼š\n" +
        "https://deptids.ccu.edu.tw/p/403-1154-2212.php?Lang=zh-tw\n" +
        "\nä½ ä¹Ÿå¯ä»¥ç›´æ¥æŠŠå•é¡Œè²¼ä¸Šä¾†ï¼Œæˆ‘å¹«ä½ ç”¨é—œéµå­—å¿«é€Ÿå°æ‡‰ã€‚"
    },
    {
      chips: "æœ€æ–°å…¬å‘Š",
      keywords: ["å…¬å‘Š", "æœ€æ–°", "æ¶ˆæ¯", "æœŸé™", "æ´»å‹•", "æˆæœå±•"],
      answer: "æœ€æ–°å…¬å‘Šï¼š\nhttps://deptids.ccu.edu.tw/?Lang=zh-tw"
    },
    {
      chips: "ä»‹ç´¹å½±ç‰‡",
      keywords: ["å½±ç‰‡", "ä»‹ç´¹", "youtube", "åˆ†äº«", "ä¸åˆ†ç³»"],
      answer: "ä»‹ç´¹å½±ç‰‡ï¼š\nhttps://www.youtube.com/watch?app=desktop&v=8kfjvu0XHig"
    },
    {
      chips: "èª²ç¨‹ä¿®èª²",
      keywords: ["èª²ç¨‹", "ä¿®èª²", "èª²è¡¨", "å­¸ä»€éº¼", "èª²ç¨‹åœ°åœ–"],
      answer:
        "èª²ç¨‹èˆ‡ä¿®èª²å»ºè­°ï¼š\n" +
        "ä½ å¯ä»¥å…ˆçœ‹ã€Œæ‹›ç”Ÿè³‡è¨Šã€å¡ç‰‡ä¸­çš„ã€èª²ç¨‹åœ°åœ–èˆ‡ä¿®èª²å»ºè­°ã€ã€‚\n" +
        "å¦‚æœä½ å‘Šè¨´æˆ‘æƒ³èµ°çš„æ–¹å‘ï¼ˆç†å·¥/äººç¤¾/è·¨åŸŸï¼‰ï¼Œæˆ‘å¯ä»¥å¹«ä½ æ•´ç†æœ€è©²å•çš„é‡é»ã€‚"
    }
  ];

  /* ===== widget åŸºæœ¬äº’å‹•ï¼ˆé€šå¸¸ä¸ç”¨æ”¹ï¼‰ ===== */
  const $ = (id) => document.getElementById(id);

  const launcher = $("aiLauncher");
  const widget = $("aiWidget");
  const closeBtn = $("aiClose");
  const clearBtn = $("aiClear");

  const body = $("aiBody");
  const chips = $("aiChips");

  const input = $("aiInput");
  const sendBtn = $("aiSend");

  //  æŠŠè¨Šæ¯ä¸­çš„ç¶²å€è½‰æˆå¯é»è¶…é€£çµ
  function linkify(text) {
    const urlRegex = /(https?:\/\/[^\s]+)/g;
    return String(text).replace(urlRegex, (url) => {
      const safeUrl = url.replace(/"/g, "&quot;");
      return `<a href="${safeUrl}" target="_blank" rel="noopener noreferrer">${url}</a>`;
    });
  }

  //  é¡¯ç¤ºè¨Šæ¯ï¼ˆä¿ç•™æ›è¡Œ + é€£çµå¯é»ï¼‰
  function addMsg(role, text) {
    const row = document.createElement("div");
    row.className = "aiw-msg " + role;

    const bubble = document.createElement("div");
    bubble.className = "aiw-bubble";
    bubble.innerHTML = linkify(text).replace(/\n/g, "<br/>");

    row.appendChild(bubble);
    body.appendChild(row);
    body.scrollTop = body.scrollHeight;
  }

 function matchAnswer(userText) {
  const t = (userText || "").toLowerCase();

  for (const rule of QA_RULES) {
    for (const kw of rule.keywords) {
      if (t.includes(String(kw).toLowerCase())) {
        return rule.answer;
      }
    }
  }

  return (
    "æˆ‘ç›®å‰å¯ä»¥å”åŠ©ï¼š\n" +
    "- æ‹›ç”Ÿè³‡è¨Š / ä¸‹è¼‰è¡¨å–®\n" +
    "- ä¸åˆ†ç³» Q&A\n" +
    "- ç³»è¾¦ä½ç½®èˆ‡è¯çµ¡æ–¹å¼\n" +
    "- æœ€æ–°å…¬å‘Š / ä»‹ç´¹å½±ç‰‡\n\n" +
    "ä½ å¯ä»¥å†æ›å€‹é—œéµå­—å•çœ‹çœ‹ï¼ˆä¾‹å¦‚ï¼šã€æ‹›ç”Ÿã€ã€ã€ç³»è¾¦åœ¨å“ªã€ã€ã€ä¸‹è¼‰è¡¨å–®ã€ï¼‰ã€‚"
  );
}

  function send() {
    const text = input.value.trim();
    if (!text) return;
    input.value = "";
    addMsg("user", text);

    const reply = matchAnswer(text);
    setTimeout(() => addMsg("bot", reply), 180);
  }

  function openWidget() {
    widget.classList.add("open");
    if (!body.dataset.inited) {
      addMsg("bot", "ä½ å¥½ï¼æˆ‘æ˜¯ç´«èŠä¸åˆ†ç³» AI å®¢æœğŸ™‚\nè¼¸å…¥é—œéµå­—ï¼Œæˆ‘å¯ä»¥å…ˆç”¨è¦å‰‡å¹«ä½ æ‰¾åˆ°ç­”æ¡ˆã€‚");
      body.dataset.inited = "1";
    }
    setTimeout(() => input.focus(), 50);
  }

  function closeWidget() {
    widget.classList.remove("open");
  }

  function clearChat() {
    body.innerHTML = "";
    body.dataset.inited = "";
    addMsg("bot", "å°è©±å·²æ¸…é™¤ğŸ™‚ ä½ å¯ä»¥é‡æ–°æå•ã€‚");
  }

  function renderChips() {
    chips.innerHTML = "";
    QA_RULES.forEach((rule) => {
      if (!rule.chips) return;
      const b = document.createElement("button");
      b.type = "button";
      b.className = "aiw-chip";
      b.textContent = rule.chips;
      b.addEventListener("click", () => {
        openWidget();
        input.value = rule.chips;
        send();
      });
      chips.appendChild(b);
    });
  }

  launcher.addEventListener("click", () => {
    widget.classList.contains("open") ? closeWidget() : openWidget();
  });
  closeBtn.addEventListener("click", closeWidget);
  clearBtn.addEventListener("click", clearChat);

  sendBtn.addEventListener("click", send);
  input.addEventListener("keydown", (e) => {
    if (e.key === "Enter") {
      e.preventDefault();
      send();
    }
  });

  renderChips();
</script>

  <!-- ===== AI å®¢æœ Widget END ===== -->

</body>
</html>



